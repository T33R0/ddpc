updated: 04 dec 2025
# Definitions Dump SQL

SELECT table_name, view_definition
FROM information_schema.views
WHERE table_schema = 'public';
# Supabase

| table_name               | view_definition                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                              |
| ------------------------ | ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------ |
| v_garage_recent_activity |  SELECT m.id AS event_id,
    uv.owner_id AS user_id,
    m.user_vehicle_id,
    m.event_date AS date,
    mi.name AS title,
    m.notes AS description,
    'mod'::text AS type
   FROM ((mods m
     JOIN user_vehicle uv ON ((m.user_vehicle_id = uv.id)))
     JOIN mod_items mi ON ((m.mod_item_id = mi.id)))
UNION ALL
 SELECT ml.id AS event_id,
    uv.owner_id AS user_id,
    ml.user_vehicle_id,
    ml.event_date AS date,
    si.name AS title,
    ml.notes AS description,
    'service'::text AS type
   FROM ((maintenance_log ml
     JOIN user_vehicle uv ON ((ml.user_vehicle_id = uv.id)))
     JOIN service_items si ON ((ml.service_item_id = si.id)));                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                               |
| v_vehicle_explore        |  SELECT v.id,
    v.make,
    v.model,
    v.year,
    v."trim",
    v.trim_description,
    v.base_msrp,
    v.base_invoice,
    v.colors_exterior,
    v.colors_interior,
    v.body_type,
    v.doors,
    v.total_seating,
    v.length_in,
    v.width_in,
    v.height_in,
    v.wheelbase_in,
    v.front_track_in,
    v.rear_track_in,
    v.ground_clearance_in,
    v.angle_of_approach_deg,
    v.angle_of_departure_deg,
    v.turning_circle_ft,
    v.drag_coefficient_cd,
    v.epa_interior_volume_cuft,
    v.cargo_capacity_cuft,
    v.max_cargo_capacity_cuft,
    v.curb_weight_lbs,
    v.gross_weight_lbs,
    v.max_payload_lbs,
    v.max_towing_capacity_lbs,
    v.cylinders,
    v.engine_size_l,
    v.horsepower_hp,
    v.horsepower_rpm,
    v.torque_ft_lbs,
    v.torque_rpm,
    v.valves,
    v.valve_timing,
    v.cam_type,
    v.drive_type,
    v.transmission,
    v.engine_type,
    v.fuel_type,
    v.fuel_tank_capacity_gal,
    v.epa_combined_mpg,
    v.epa_city_highway_mpg,
    v.range_miles_city_hwy,
    v.epa_combined_mpge,
    v.epa_city_highway_mpge,
    v.epa_electric_range_mi,
    v.epa_kwh_per_100mi,
    v.epa_charge_time_240v_hr,
    v.battery_capacity_kwh,
    v.front_head_room_in,
    v.front_hip_room_in,
    v.front_leg_room_in,
    v.front_shoulder_room_in,
    v.rear_head_room_in,
    v.rear_hip_room_in,
    v.rear_leg_room_in,
    v.rear_shoulder_room_in,
    v.warranty_basic,
    v.warranty_drivetrain,
    v.warranty_roadside,
    v.warranty_rust,
    v.source_json,
    v.source_url,
    v.review,
    v.pros,
    v.cons,
    v.whats_new,
    v.nhtsa_overall_rating,
    v.new_price_range,
    v.used_price_range,
    v.scorecard_overall,
    v.scorecard_driving,
    v.scorecard_confort,
    v.scorecard_interior,
    v.scorecard_utility,
    v.scorecard_technology,
    v.expert_verdict,
    v.expert_performance,
    v.expert_comfort,
    v.expert_interior,
    v.expert_technology,
    v.expert_storage,
    v.expert_fuel_economy,
    v.expert_value,
    v.expert_wildcard,
    v.old_trim,
    v.old_description,
    v.images_url,
    v.suspension,
    v.front_seats,
    v.rear_seats,
    v.power_features,
    v.instrumentation,
    v.convenience,
    v.comfort,
    v.memorized_settings,
    v.in_car_entertainment,
    v.roof_and_glass,
    v.body,
    v.truck_features,
    v.tires_and_wheels,
    v.doors_features,
    v.towing_and_hauling,
    v.safety_features,
    v.packages,
    v.exterior_options,
    v.interior_options,
    v.mechanical_options,
    v.country_of_origin,
    v.car_classification,
    v.platform_code_generation,
    v.date_added,
    v.new_make,
    v.new_model,
    v.new_year,
    COALESCE(p.storage_path, p.url) AS image_url
   FROM (vehicle_data v
     LEFT JOIN vehicle_primary_image p ON ((p.vehicle_id = v.id))); |